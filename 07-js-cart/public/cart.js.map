{"version":3,"file":"cart.js","mappings":"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","sources":["webpack://07-js-cart/./src/render.js","webpack://07-js-cart/./src/state.js","webpack://07-js-cart/webpack/bootstrap","webpack://07-js-cart/webpack/runtime/define property getters","webpack://07-js-cart/webpack/runtime/hasOwnProperty shorthand","webpack://07-js-cart/webpack/runtime/make namespace object","webpack://07-js-cart/./src/controller.js"],"sourcesContent":["import { PAGES } from './state';\r\n\r\n\r\nfunction render(state, rootElement) {\r\n  rootElement.innerHTML = state.page === PAGES.PRODUCTS ? showProductsListing(state) : showProductsListingAndShoppingCart(state);\r\n}\r\n\r\n\r\nfunction showProductsListing(state) {\r\n  let productsListingHtml='';\r\n  for (let index = 0; index < state.products.length; index++) {\r\n    const product = state.products[index];\r\n    const productHtml = `\r\n        <li class=\"product\" data-index=\"${index}\">\r\n            <img src=\"${product.img}\" alt=\"${product.name}\"/>\r\n            <div class=\"product-name-and-price\">\r\n                <span>Name:${product.name}</span>\r\n                <span>Price:${product.price.toFixed(2)}</span>\r\n            </div>\r\n            <button class=\"add-to-cart\" data-index=\"${index}\">Add to Cart</button>\r\n        </li>\r\n    `;\r\n    productsListingHtml += productHtml;\r\n  }\r\n  const viewCartButton = state.page !== PAGES.CART ? `<button class=\"view-cart\">View cart (${state.totalNum})</button>` : \"\";\r\n  return `\r\n    <div class=\"cats-lists\">\r\n      <h1>&#128568 Meow Meow Sale Listing &#128071</h1> \r\n    </div> \r\n    <ul class=\"products-Listing\">${productsListingHtml}</ul>\r\n    <div class=\"view-cart-container\">\r\n      ${viewCartButton}\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction showShoppingCartItem(item, index) {\r\n  const totalPrice = (item.price * item.quantity).toFixed(2);\r\n  return `\r\n    <li class=\"cart-item\">\r\n      <div class=\"cat-info\">\r\n        <img src=\"${item.img}\" alt=\"${item.name}\"/>    \r\n      </div>\r\n      <div class=\"products-name-and-total-price\">\r\n          <span>Name:${item.name}</span>\r\n          <span class=\"total-price\">Price:${totalPrice}</span> \r\n          <span>Quantity:${item.quantity}</span>\r\n      </div> \r\n        <div class=\"action-button-for-decrease-and-increase\">\r\n          <button data-index=\"${index}\" class=\"decrease\">-</button>        \r\n          <span>${item.quantity}</span> \r\n          <button data-index=\"${index}\" class=\"increase\">+</button>                \r\n        </div>\r\n      <div>  \r\n    </li>\r\n  `;\r\n}\r\nfunction showProductsListingAndShoppingCart(state) {\r\n  const productsListingHtml = showProductsListing(state);\r\n  let cartContentHtml='';\r\n  if (state.shoppingCart.length === 0) {\r\n      cartContentHtml = `\r\n      <p class=\"empty-cart-message\">Nothing in the cart</p>\r\n      <div class=\"action-button-for-hide-cart\">\r\n        <button class=\"hide-cart\">Hide Cart</button>\r\n      </div>\r\n      `;\r\n  } else {\r\n    let cartItemsHtml='';\r\n    for (let index = 0; index < state.shoppingCart.length; index++) {\r\n        const cartItemIndex = state.shoppingCart[index];\r\n        cartItemsHtml += showShoppingCartItem(cartItemIndex,index);\r\n    } \r\n    const totalCost = state.totalPrice.toFixed(2);\r\n    cartContentHtml = `\r\n        <ul class=\"carts\">${cartItemsHtml}</ul>\r\n        <div class=\"total-cost\">Total Cost: ${totalCost}</div>\r\n        <div class=\"action-buttons-for-checkout-and-hide-cart\">\r\n            <button class=\"checkout\">Checkout</button>\r\n            <button class=\"hide-cart\">Hide Cart</button>\r\n        </div>\r\n    `;\r\n  }\r\n  return `\r\n      ${productsListingHtml} \r\n      <div class=\"cart-container\">\r\n          <div class=\"center-container\">\r\n              <h1>Shopping Cart &#128071</h1>  \r\n          </div>\r\n          ${cartContentHtml} \r\n      </div>\r\n  `;\r\n}\r\n\r\n\r\n\r\nexport default render;","const PAGES = {\r\n    PRODUCTS: 'products',\r\n    CART: 'cart',\r\n  };\r\nconst state = {\r\n  products: [\r\n    { name: 'Amit', \r\n      img: 'http://placekitten.com/100/100?image=1',\r\n      price: 0.99\r\n    },\r\n    { name: 'Bao',\r\n      img: 'http://placekitten.com/100/100?image=2',\r\n      price: 3.14\r\n    },\r\n    { name: 'Mango',\r\n      img: 'http://placekitten.com/100/100?image=3',\r\n      price: 2.73\r\n    }\r\n  ],\r\n  page: PAGES.PRODUCTS,\r\n  shoppingCart: [],\r\n  totalPrice: 0,\r\n  totalNum: 0\r\n  };\r\n  \r\nconst cartControl={\r\n  addProductToShoppingCart(productIndex) {\r\n    const product = state.products[productIndex]; \r\n    let alreadyInCart = false;\r\n  \r\n    for (const item of state.shoppingCart) {\r\n      if (item.name === product.name) {\r\n        alreadyInCart = true;\r\n        item.quantity++;\r\n        state.totalPrice += product.price; \r\n        state.totalNum += 1\r\n        break;\r\n      }\r\n    }\r\n  \r\n    if (!alreadyInCart) {\r\n      state.shoppingCart.push({\r\n        name: product.name,\r\n        quantity: 1,\r\n        price: product.price,\r\n        img: product.img\r\n      });\r\n      state.totalPrice += product.price;\r\n      state.totalNum += 1;\r\n    }\r\n  },\r\n  \r\n  reduceAmountFromShoppingCart(productIndex) {\r\n    const item = state.shoppingCart[productIndex];\r\n    item.quantity--;\r\n    state.totalPrice -= item.price;\r\n    state.totalNum -= 1;\r\n  \r\n    if (item.quantity === 0) { \r\n      state.shoppingCart.splice(productIndex, 1); \r\n    }\r\n  \r\n  },\r\n  \r\n  increaseAmountFromShoppingCart(productIndex) {\r\n    const item = state.shoppingCart[productIndex];\r\n    item.quantity++;\r\n    state.totalPrice += item.price;\r\n    state.totalNum += 1;\r\n  },\r\n\r\n  checkOut() {\r\n    state.shoppingCart = [];\r\n    state.totalPrice = 0;\r\n    state.totalNum = 0;\r\n    state.page = PAGES.PRODUCTS;\r\n  }\r\n  \r\n};  \r\n  \r\nexport default state;\r\nexport { PAGES, cartControl };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import state, { PAGES, cartControl} from './state';\r\nimport render from './render';\r\n\r\nconst shoppingAppContainer = document.querySelector('#shopping-system');\r\n\r\nfunction handleEvents(rootElements) {\r\n    rootElements.addEventListener('click', (e) => {\r\n     \r\n        const index = e.target.dataset.index;\r\n        if (e.target.classList.contains('add-to-cart')) {\r\n            cartControl.addProductToShoppingCart(index);\r\n        } else if (e.target.classList.contains('decrease')) {\r\n            cartControl.reduceAmountFromShoppingCart(index);\r\n        } else if (e.target.classList.contains('increase')) {\r\n            cartControl. increaseAmountFromShoppingCart(index);\r\n        } else if (e.target.classList.contains('view-cart')) {\r\n            state.page = PAGES.CART;\r\n        } else if (e.target.classList.contains('hide-cart')) {\r\n            state.page = PAGES.PRODUCTS;\r\n        } else if (e.target.classList.contains('checkout')) {\r\n            cartControl.checkOut();\r\n        }\r\n\r\n        render(state, rootElements);\r\n    });\r\n}\r\n\r\n\r\nfunction init() {\r\n    render(state, shoppingAppContainer); \r\n    handleEvents(shoppingAppContainer); \r\n}\r\n\r\ninit();"],"names":["PAGES","render","state","rootElement","innerHTML","page","PRODUCTS","showProductsListing","showProductsListingAndShoppingCart","productsListingHtml","index","products","length","product","productHtml","concat","img","name","price","toFixed","viewCartButton","CART","totalNum","showShoppingCartItem","item","totalPrice","quantity","cartContentHtml","shoppingCart","cartItemsHtml","cartItemIndex","totalCost","cartControl","addProductToShoppingCart","productIndex","alreadyInCart","_iterator","_createForOfIteratorHelper","_step","s","n","done","value","err","e","f","push","reduceAmountFromShoppingCart","splice","increaseAmountFromShoppingCart","checkOut","shoppingAppContainer","document","querySelector","handleEvents","rootElements","addEventListener","target","dataset","classList","contains","init"],"sourceRoot":""}